<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Пример 27 - Сортировка таблицы</title>
</head>

<body>

  <script src="../js/const.js"></script>
  <script>
    function rooms() { // Функция будет создавать массив с комнатами и людьми
      let rooms = []; //создаем пустой массив, куда будем добавлять строки
      for(let i=0; i<people.length; i++) { // цикл от 0 до длины массива people. то есть сколько людей в массиве столько и будет выполняться цикл
        rooms.push( 
          [people[i]["room"], `${people[i]["name"]["f"]} ${people[i]["name"]["i"]} ${people[i]["name"]["o"]}`]
          // с помощью push в массив rooms добавляем каждый индекс [i] комнату, фио
        )
      }
      return rooms.sort((a, b) => + a[0] - b[0]) // сортируем по нулевому индексу с помощью метода sort и стрелочной функции
    }

    document.querySelector('body').innerHTML = `<table></table>` // обращаемся к тегу body и в нем создаем таблицу
    let title_rooms = document.createElement('tr')
    title_rooms.innerHTML = `
    <th>Комната</th>
    <th>ФИО</th>
    `
    document.querySelector('table').append(title_rooms)
    for(let i=0; i<rooms().length; i++) { // i меньша массива, получаемого из функции rooms(). Чтобы не присваивать результат функции переменной, можно обратиться к функции уже в счетчике
      let row = document.createElement('tr') // создаем строку
      row.innerHTML = `
      <td>${rooms()[i][0]}</td>
      <td>${rooms()[i][1]}</td>
      `
      // под $ вызываем функцию rooms(), получаем элемент под индексом i, в этом элементе берем номер и фио под индексами 0 и 1
      document.querySelector('table').append(row)
    }
  </script>
</body>

</html>